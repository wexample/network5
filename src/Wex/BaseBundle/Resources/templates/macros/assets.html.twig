{% macro render_available_css(context_type, layout_use_js) %}
    {% for asset in assets_type_filtered(context_type, 'css') %}
        {%- if asset.isAvailable(layout_use_js) -%}
            {% if not layout_use_js %}
                <link rel="stylesheet" media="{{ asset.media }}"
                      href="{{ asset(asset.path) }}"/>
            {% endif %}
            {{ asset.setRendered() }}
        {%- endif -%}
    {% endfor %}
{% endmacro %}

{% macro render_available_js(context_type) %}
    {%- for asset in assets_type_filtered(context_type, 'js') -%}
        {%- if asset.isAvailable(true) -%}
            {{ asset.setRendered() }}
        {%- endif -%}
    {%- endfor -%}
{% endmacro %}